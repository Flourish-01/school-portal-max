<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <h1 class="text-center">Welcome to Dashboard</h1>
    <div class="col-lg-7 col-sm-4 tabili mx-auto text-center" >
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>firstname</th>
                       <th>S/N</th>
                    <th>lastname</th>
                    <th>mailphone</th>
                    <th>password</th>
                    <th >Action</th>
                </tr>
            </thead>
            <tbody id="show"></tbody>
        </table>
        
    </div>
    <script>

        var gottenStudent = []
        var gotten = JSON.parse(localStorage.getItem('allstudents'))
        document.getElementById('show')
        console.log(gotten);
        gottenStudent = gotten
        console.log(gottenStudent);
        updatedList()

     function del(index) {
    gottenStudent.splice(index, 1)
    updatedList()    
}

        function updatedList() {
    
    var tableBody = document.getElementById('show');
    tableBody.innerHTML = '';

    for (let i = 0; i < gottenStudent.length; i++) {
        var row = tableBody.insertRow();
        
        var cellNumber = row.insertCell(0);
        cellNumber.textContent = i + 1;

        var cellItem = row.insertCell(1);
        cellItem.textContent = gottenStudent[i].firstname;

        var cellItem = row.insertCell(2);
        cellItem.textContent = gottenStudent[i].lastname; 
        
        var cellItem = row.insertCell(3);
        cellItem.textContent = gottenStudent[i].mailphone;
       
        var cellItem = row.insertCell(4);
        cellItem.textContent = gottenStudent[i].password;

        var cellActions = row.insertCell(5);
        cellActions.innerHTML = `
        <button class="btn btn-danger btn-sm delete" style:font-size: 6px; onclick="del(${i})">Delete</button>
        <button class="btn btn-warning btn-sm edit"  style:font-size: 6px; data-bs-toggle="modal" data-bs-target="#exampleModal" onclick="editItem(${i})">Edit</button>
        `;
       
    }
   
        }
        // var gottenStudent = []
        // var gotten = JSON.stringify(localStorage.getItem('allstudents'))
        // console.log(gotten);
        // gottenStudent = gotten
        // console.log(gottenStudent);
        // let none =  document.getElementById('show')
        // none.innerHTML = gotten 
    </script>
    <script src="script.js"></script>
</body>
</html>